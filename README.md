# Telegram-бот: Случайная статья из Википедии

Простой учебный Telegram-бот на Python, который отправляет случайную статью из русской Википедии. По командам `/start` и `/random` — немедленная отправка, а ежедневно в 9:00 по Москве — автоматическая рассылка (с проверкой дубликатов).

**Функции:**
- Автоматическая настройка chat_id при первом запуске.
- Остановка рассылки: `/stop_daily`.
- Безопасность: Секреты в `.env`, игнорируются в Git.
- Зависимости: Минимальные, без БД.

Проект для начинающих — легко развернуть локально или на сервере.

## Быстрый старт (для GitHub)

1. **Клонируй репозиторий:**
git clone https://github.com/kiruha311/micro_learning.git
cd micro_learning
**Создай виртуальное окружение (рекомендуется):**
python -m venv venv
Linux/Mac: source venv/bin/activate
Windows: venv\Scripts\activate
**Установи зависимости:**
pip install -r requirements.txt


4. **Создай своего бота в Telegram:**
- Открой Telegram, найди [@BotFather](https://t.me/BotFather).
- Напиши `/newbot`.
- Укажи имя (например, "Мой microlearning") и username (например, "micro_learning111_bot").
- Скопируй **токен** (строка вроде `123456:ABC-DEF...`).

5. **Настрой .env:**
- Создай файл `.env` в корне:
TOKEN=твой_токен_от_BotFather
CHAT_ID=  # Оставь пустым — бот заполнит при /start
text- **Важно:** Не коммить .env в Git! (Он в .gitignore.)

6. **Запусти бота:**
python bot.py
text- Бот выведет "Бот запущен...".
- Напиши боту `/start` в Telegram — сохранит твой chat_id и отправит первую статью.

7. **Тестируй:**
- `/random` — случайная статья.
- `/stop_daily` — остановка рассылки.
- Ежедневка: Сработает в 9:00 по Москве (UTC+3). Для теста измени время в `bot.py` (см. ниже).

## Структура проекта
- `wiki_fetcher.py` — функция для случайной статьи из Википедии (парсинг HTML).
- `bot.py` — основной бот: обработчики команд, JobQueue для расписания.
- `.env` — секреты (токен, chat_id). Создавай свой!
- `.gitignore` — игнорирует .env и временные файлы.
- `last_send.json` — авто-создаётся (дата последней отправки).
- `requirements.txt` — зависимости (python-telegram-bot[job-queue], requests, beautifulsoup4, python-dotenv).

## Использование и кастомизация
- **Ежедневная отправка:** Планируется на 6:00 UTC (9:00 Москвы). Измени в `bot.py`:
```python
application.job_queue.run_daily(send_daily_article, time=time(6, 0))

Для теста: Поставь на текущее время +10 мин (UTC), перезапусти.
Команды:

/start — настройка + статья.
/random — случайная статья.
/stop_daily — остановка (удаляет файл даты).